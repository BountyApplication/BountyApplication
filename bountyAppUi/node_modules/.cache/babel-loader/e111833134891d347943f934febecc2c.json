{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Isaja\\\\my-app\\\\bountyAppUi\\\\src\\\\bounty\\\\util\\\\ProductSelect.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { getProducts } from './Database';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nProductSelect.propTypes = {};\nexport default function ProductSelect(_ref) {\n  _s();\n\n  let {\n    resetCallback,\n    runCallback,\n    setResetCallback,\n    useReset,\n    hideReset,\n    useSubmit,\n    hideSubmit,\n    resetOnSubmit\n  } = _ref;\n  // vars\n  const [products, setProducts] = useState(getProducts);\n  const [selectedProductId, setSelectedProductId] = useState(-1); // temp vars vor easier access\n\n  const productSelected = selectedProductId !== -1; // set callback on beginning\n\n  useEffect(() => {\n    if (setResetCallback != null) setResetCallback(prev => reset);\n  }, []);\n\n  function updateProduct(id) {\n    // resets if product selection deleted\n    if (id === -1) return reset();\n    setSelectedProductId(id);\n  }\n\n  function reset() {\n    setSelectedProductId(-1);\n    if (resetCallback) resetCallback();\n  }\n\n  function submit() {\n    // checks if product selected\n    if (!productSelected) {\n      console.log(\"Error: no valid entries\");\n      window.alert(\"Error: no valid entries\");\n      return;\n    }\n\n    if (runCallback != null) runCallback(products.find(product => product.id === selectedProductId));\n    if (resetOnSubmit) reset();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [\"Product: \", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedProductId,\n        onChange: event => {\n          updateProduct(parseInt(event.target.value));\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: -1,\n          children: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 18\n        }, this), products.map(_ref2 => {\n          let {\n            id,\n            name,\n            price\n          } = _ref2;\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: id,\n            children: `${name}(${+price.toFixed(2)}€)`\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 28\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), useReset && (!hideReset || productSelected) && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"wrapper\",\n      onClick: reset,\n      children: \"reset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 65\n    }, this), useSubmit && (!hideSubmit || productSelected) && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"wrapper\",\n      onClick: submit,\n      children: \"submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 65\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductSelect, \"qIYOdZk7l3fkdZ+yAFuWVHjfOP4=\");\n\n_c = ProductSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductSelect\");","map":{"version":3,"sources":["C:/Users/Isaja/my-app/bountyAppUi/src/bounty/util/ProductSelect.js"],"names":["React","useState","useEffect","getProducts","ProductSelect","propTypes","resetCallback","runCallback","setResetCallback","useReset","hideReset","useSubmit","hideSubmit","resetOnSubmit","products","setProducts","selectedProductId","setSelectedProductId","productSelected","prev","reset","updateProduct","id","submit","console","log","window","alert","find","product","event","parseInt","target","value","map","name","price","toFixed"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getProducts } from './Database';\r\n\r\nProductSelect.propTypes = {\r\n\r\n}\r\n\r\nexport default function ProductSelect({resetCallback, runCallback, setResetCallback, useReset, hideReset, useSubmit, hideSubmit, resetOnSubmit}) {\r\n    // vars\r\n    const [products, setProducts] = useState(getProducts);\r\n    const [selectedProductId, setSelectedProductId] = useState(-1);\r\n\r\n    // temp vars vor easier access\r\n    const productSelected = selectedProductId!==-1;\r\n\r\n    // set callback on beginning\r\n    useEffect(() => {\r\n        if(setResetCallback!=null)\r\n            setResetCallback(prev => reset);\r\n    }, []);\r\n\r\n    function updateProduct(id) {\r\n        // resets if product selection deleted\r\n        if(id===-1)\r\n            return reset();\r\n           \r\n        setSelectedProductId(id);\r\n    }\r\n\r\n    function reset() {\r\n        setSelectedProductId(-1);\r\n        if(resetCallback)\r\n            resetCallback();\r\n    }\r\n\r\n    function submit() {\r\n        // checks if product selected\r\n        if(!productSelected) {\r\n            console.log(\"Error: no valid entries\");\r\n            window.alert(\"Error: no valid entries\");\r\n            return;\r\n        }\r\n\r\n        if(runCallback!=null)\r\n            runCallback(products.find(product => product.id===selectedProductId));\r\n\r\n        if(resetOnSubmit)\r\n            reset();\r\n    }\r\n\r\n    return(\r\n        <div className=\"wrapper\">\r\n            <div className='wrapper'>{\"Product: \"}\r\n            <select value={selectedProductId} onChange={(event) => {updateProduct(parseInt(event.target.value));}}>\r\n                {<option value={-1}>{\"\"}</option>}\r\n                {products.map(({id, name, price}) => {\r\n                    return <option key={id} value={id}>{`${name}(${+price.toFixed(2)}€)`}</option>\r\n                })}\r\n            </select></div>\r\n            {useReset  && (!hideReset  || productSelected) &&   <button className='wrapper' onClick={reset}>{\"reset\"}</button>}\r\n            {useSubmit && (!hideSubmit || productSelected) &&   <button className='wrapper' onClick={submit}>{\"submit\"}</button>}\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}