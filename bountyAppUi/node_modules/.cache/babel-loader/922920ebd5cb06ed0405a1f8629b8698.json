{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Isaja\\\\my-app\\\\bountyAppUi\\\\src\\\\bounty\\\\util\\\\UserSelect.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { getUsers } from './Database';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserSelect(_ref) {\n  _s();\n\n  var _this = this;\n\n  let {\n    setResetCallback,\n    run,\n    resetCallback,\n    title,\n    useReset,\n    hideReset,\n    useSubmit,\n    hideSubmit,\n    resetOnSubmit\n  } = _ref;\n  return function (run) {\n    const [users, setUsers] = useState(getUsers());\n    const [userFirstname, setUserFirstname] = useState(\"\");\n    const [userLastname, setUserLastname] = useState(\"\");\n    const filteredUsers = getFilteredUsers();\n    useEffect(() => {\n      if (setResetCallback != null) setResetCallback(() => reset);\n    }, []);\n    useEffect(() => {\n      if (userFirstname !== \"\" && userLastname !== \"\") run();else checkOptions();\n    }, [userFirstname, userLastname]);\n\n    function updateName(isFirstname, name) {\n      if (name === \"\") return reset();\n      if (isFirstname) setUserFirstname(name);else setUserLastname(name);\n    }\n\n    function checkOptions() {\n      if (filteredUsers.length > 1) return;\n      if (userFirstname !== \"\" && userLastname === \"\") return setUserLastname(filteredUsers.find(user => user.firstname === userFirstname).lastname);\n      if (userFirstname === \"\" && userLastname !== \"\") return setUserFirstname(filteredUsers.find(user => user.lastname === userLastname).firstname);\n    }\n\n    function getFilteredUsers() {\n      return users.filter(_ref2 => {\n        let {\n          lastname,\n          firstname\n        } = _ref2;\n        return (userFirstname === \"\" || userFirstname === firstname) && (userLastname === \"\" || userLastname === lastname);\n      });\n    }\n\n    function run() {\n      console.log(userFirstname + \" \" + userLastname);\n      if (!useSubmit) submit();\n    }\n\n    function submit() {\n      if (getFilteredUsers().length !== 1) {\n        console.log(\"Error: user selection ambiguous\");\n        window.alert(\"Error: user selection ambiguous\");\n        return;\n      }\n\n      if (run != null) run(getFilteredUsers()[0]);\n      if (resetOnSubmit) reset();\n    }\n\n    function reset() {\n      setUserFirstname(\"\");\n      setUserLastname(\"\");\n      if (resetCallack != null) resetCallack();\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rubric\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: title != null ? title : \"Suchen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [\"Vorname \", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: userFirstname,\n          onChange: event => updateName(true, event.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: userFirstname !== \"\" ? \"delete\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, _this), filteredUsers.map(_ref3 => {\n            let {\n              id,\n              firstname\n            } = _ref3;\n            if (filteredUsers.find(user => user.firstname === firstname).id === id) return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: firstname,\n              children: firstname\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 36\n            }, _this);\n            return null;\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [\"Nachname \", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: userLastname,\n          onChange: event => updateName(false, event.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: userLastname !== \"\" ? \"delete\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, _this), filteredUsers.map(_ref4 => {\n            let {\n              id,\n              lastname\n            } = _ref4;\n            if (filteredUsers.find(user => user.lastname === lastname).id === id) return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: lastname,\n              children: lastname\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 36\n            }, _this);\n            return null;\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, _this), useReset && (!hideReset || userFirstname !== \"\" || userLastname !== \"\") && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"wrapper\",\n        onClick: reset,\n        children: \"reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 85\n      }, _this), useSubmit && (!hideSubmit || filteredUsers.length === 1) && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"wrapper\",\n        onClick: submit,\n        children: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 85\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, _this);\n  }(run);\n}\n\n_s(UserSelect, \"UiFLX2g40NggDjCOQ7u07ECzcoY=\");\n\n_c = UserSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSelect\");","map":{"version":3,"sources":["C:/Users/Isaja/my-app/bountyAppUi/src/bounty/util/UserSelect.js"],"names":["React","useState","useEffect","getUsers","UserSelect","setResetCallback","run","resetCallback","title","useReset","hideReset","useSubmit","hideSubmit","resetOnSubmit","users","setUsers","userFirstname","setUserFirstname","userLastname","setUserLastname","filteredUsers","getFilteredUsers","reset","checkOptions","updateName","isFirstname","name","length","find","user","firstname","lastname","filter","console","log","submit","window","alert","resetCallack","event","target","value","map","id"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getUsers } from './Database';\r\n\r\nexport default function UserSelect({setResetCallback, run, resetCallback, title, useReset, hideReset, useSubmit, hideSubmit, resetOnSubmit}) {\r\n\r\n    const [users, setUsers] = useState(getUsers());\r\n    const [userFirstname, setUserFirstname] = useState(\"\");\r\n    const [userLastname, setUserLastname] = useState(\"\");\r\n\r\n    const filteredUsers = getFilteredUsers();\r\n\r\n    useEffect(() => {\r\n      if(setResetCallback!=null)\r\n        setResetCallback(()=>reset);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(userFirstname!==\"\" && userLastname!==\"\")\r\n            run();\r\n        else\r\n            checkOptions();\r\n    }, [userFirstname, userLastname]);\r\n\r\n\r\n    function updateName(isFirstname, name) {\r\n        if(name === \"\")\r\n            return reset();\r\n\r\n        if(isFirstname)\r\n            setUserFirstname(name);\r\n        else\r\n            setUserLastname(name);\r\n    }\r\n\r\n    function checkOptions() {\r\n        if(filteredUsers.length > 1)\r\n            return;\r\n\r\n        if(userFirstname!==\"\" && userLastname===\"\")\r\n            return setUserLastname(filteredUsers.find(user => user.firstname===userFirstname).lastname);\r\n        if(userFirstname===\"\" && userLastname!==\"\")\r\n            return setUserFirstname(filteredUsers.find(user => user.lastname===userLastname).firstname);\r\n    }\r\n\r\n    function getFilteredUsers() {\r\n        return users.filter(({lastname, firstname}) => (userFirstname===\"\" || userFirstname===firstname) && (userLastname===\"\" || userLastname===lastname));\r\n    }\r\n\r\n    function run() {\r\n        console.log(userFirstname+\" \"+userLastname);\r\n        if(!useSubmit)\r\n            submit();\r\n    }\r\n\r\n    function submit() {\r\n        if(getFilteredUsers().length!==1) {\r\n            console.log(\"Error: user selection ambiguous\");\r\n            window.alert(\"Error: user selection ambiguous\");\r\n            return;\r\n        }\r\n\r\n        if(run!=null)\r\n            run(getFilteredUsers()[0]);\r\n\r\n        if(resetOnSubmit)\r\n            reset();\r\n    }\r\n\r\n    function reset() {\r\n        setUserFirstname(\"\");\r\n        setUserLastname(\"\");\r\n        if(resetCallack!=null)\r\n            resetCallack();\r\n    }\r\n    \r\n    return(\r\n        <div className=\"rubric\">\r\n            <div className='title'>{title!=null?title:\"Suchen\"}</div>\r\n            <div className='wrapper'>{\"Vorname \"}\r\n                <select value={userFirstname} onChange={event => updateName(true, event.target.value)}>\r\n                    <option value=\"\">{userFirstname!==\"\"?\"delete\":\"\"}</option>\r\n                    {filteredUsers.map(({id, firstname}) => { \r\n                        if(filteredUsers.find(user => user.firstname===firstname).id === id)\r\n                            return <option key={id} value={firstname}>{firstname}</option>\r\n                        return null;\r\n                    })}\r\n                </select>\r\n            </div>\r\n            <div className='wrapper'>{\"Nachname \"}\r\n                <select value={userLastname} onChange={event => updateName(false, event.target.value)}>\r\n                    <option value=\"\">{userLastname!==\"\"?\"delete\":\"\"}</option>\r\n                    {filteredUsers.map(({id, lastname}) => {\r\n                        if(filteredUsers.find(user => user.lastname===lastname).id === id)\r\n                            return <option key={id} value={lastname}>{lastname}</option>\r\n                        return null;\r\n                    })}\r\n                </select>\r\n            </div>\r\n            {useReset  && (!hideReset  ||userFirstname!==\"\"||userLastname!==\"\") &&  <button className='wrapper' onClick={reset}>{\"reset\"}</button>}\r\n            {useSubmit && (!hideSubmit ||filteredUsers.length===1) &&               <button className='wrapper' onClick={submit}>{\"submit\"}</button>}\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}