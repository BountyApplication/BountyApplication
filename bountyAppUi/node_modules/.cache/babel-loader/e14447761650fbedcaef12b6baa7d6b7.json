{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Isaja\\\\my-app\\\\bountyAppUi\\\\src\\\\bounty\\\\generalUi\\\\GeneralUi.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport ProductDisplay from './ProductDisplay';\nimport UserSelect from '../util/UserSelect';\nimport BalanceInfos from './BalanceInfos';\nimport BalanceCorrection from './BalanceCorrection';\nimport CashPayment from './ChashPayment';\nimport LastBookings from './LastBookings';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GeneralUi(props) {\n  _s();\n\n  const [user, setUser] = useState(null);\n  const [userBalance, setUserBalance] = useState(null);\n  const [correctionPlus, setCorrectionPlus] = useState(null);\n  const [correctionMinus, setCorrectionMinus] = useState(null);\n  const [paymentIn, setPaymentIn] = useState(null);\n  const [paymentOut, setPaymentOut] = useState(null);\n  const [products, setProducts] = useState(getProducts(null));\n  const [resetCallback, setResetCallback] = useState(null);\n  const [resetProductsCallback, setResetProductsCallback] = useState(null);\n  useEffect(() => {\n    getUserBalance(user);\n  }, [user]);\n\n  function getProducts() {\n    // do sever\n    return [{\n      id: 0,\n      name: \"Bonbon\",\n      price: .05,\n      amount: 0\n    }, {\n      id: 1,\n      name: \"Schokoriegel\",\n      price: .7,\n      amount: 0\n    }, {\n      id: 2,\n      name: \"Loli\",\n      price: .5,\n      amount: 0\n    }, {\n      id: 3,\n      name: \"Kracher\",\n      price: .1,\n      amount: 0\n    }, {\n      id: 4,\n      name: \"Slush\",\n      price: .2,\n      amount: 0\n    }, {\n      id: 5,\n      name: \"M&M\",\n      price: .3,\n      amount: 0\n    }, {\n      id: 6,\n      name: \"Schlangen\",\n      price: .1,\n      amount: 0\n    }, {\n      id: 7,\n      name: \"Snickers\",\n      price: .6,\n      amount: 0\n    }, {\n      id: 8,\n      name: \"T-shirt\",\n      price: 15,\n      amount: 0\n    }, {\n      id: 9,\n      name: \"Cappy\",\n      price: 8,\n      amount: 0\n    }, {\n      id: 10,\n      name: \"CD\",\n      price: 10,\n      amount: 0\n    }, {\n      id: 11,\n      name: \"Bibel\",\n      price: 20,\n      amount: 0\n    }, {\n      id: 12,\n      name: \"Sprudel\",\n      price: 0.8,\n      amount: 0\n    }, {\n      id: 13,\n      name: \"Apfelschorle\",\n      price: 1,\n      amount: 0\n    }, {\n      id: 14,\n      name: \"Cola\",\n      price: 1.5,\n      amount: 0\n    }, {\n      id: 15,\n      name: \"Reis\",\n      price: 2,\n      amount: 0\n    }, {\n      id: 16,\n      name: \"ESP\",\n      price: 5,\n      amount: 0\n    }];\n  }\n\n  function getUserBalance(user) {\n    if (user === null || user === undefined) return; // do server\n\n    let balance = 10;\n    console.log(balance);\n    setUserBalance(balance);\n  }\n\n  function calculateTotal() {\n    var price = products.reduce(_ref => {\n      let {\n        id,\n        name,\n        price,\n        amount\n      } = _ref;\n      return price * amount;\n    }); // for(var i = 0, l = products.length; i < l; i++)\n    //     price+=products[i].amount*products[i].price;\n\n    price -= correctionPlus;\n    price += correctionMinus;\n    price -= paymentIn;\n    price += paymentOut;\n    return price;\n  }\n\n  function resetUser() {\n    setUser(null);\n    setUserBalance(null);\n  }\n\n  function resetProducts() {\n    const updatedProducts = [];\n    products.map(product => {\n      const updatedProduct = { ...product,\n        amount: 0\n      };\n      updatedProducts.push(updatedProduct);\n    });\n    setProducts(updatedProducts);\n    setCorrectionPlus(null);\n    setCorrectionMinus(null);\n    setPaymentIn(null);\n    setPaymentOut(null);\n  }\n\n  function submit() {\n    console.log(calculateTotal()); // do server\n\n    if (resetCallback != null) resetCallback();\n    resetProducts();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [/*#__PURE__*/_jsxDEV(UserSelect, {\n      setResetCallback: func => setResetCallback(func),\n      reset: resetUser,\n      run: setUser,\n      useSubmit: false,\n      useReset: true,\n      hideReset: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductDisplay, {\n      remove: calculateTotal() > userBalance,\n      products: products,\n      setProducts: products => setProducts(products)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BalanceCorrection, {\n      plus: correctionPlus,\n      setPlus: value => setCorrectionPlus(value),\n      minus: correctionMinus,\n      setMinus: value => setCorrectionMinus(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CashPayment, {\n      out: paymentOut,\n      setOut: value => setPaymentOut(value),\n      in: paymentIn,\n      setIn: value => setPaymentIn(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {\n      className: \"wrapper\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 132\n    }, this), user != null && /*#__PURE__*/_jsxDEV(BalanceInfos, {\n      balance: userBalance,\n      sum: calculateTotal()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 26\n    }, this), user != null && /*#__PURE__*/_jsxDEV(LastBookings, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 26\n    }, this), (calculateTotal() !== 0 || correctionPlus !== null || paymentIn !== null) && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"wrapper\",\n      onClick: resetProducts.bind(this),\n      children: \"reset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 79\n    }, this), calculateTotal() <= userBalance && (calculateTotal() !== 0 || correctionPlus !== null || paymentIn != null) && user != null && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"wrapper\",\n      onClick: submit.bind(this),\n      children: \"Buchen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 121\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GeneralUi, \"TTYfm8QmH50OcH3hTM6Eio3DFv4=\");\n\n_c = GeneralUi;\n\nvar _c;\n\n$RefreshReg$(_c, \"GeneralUi\");","map":{"version":3,"sources":["C:/Users/Isaja/my-app/bountyAppUi/src/bounty/generalUi/GeneralUi.js"],"names":["React","useState","useEffect","Link","ProductDisplay","UserSelect","BalanceInfos","BalanceCorrection","CashPayment","LastBookings","GeneralUi","props","user","setUser","userBalance","setUserBalance","correctionPlus","setCorrectionPlus","correctionMinus","setCorrectionMinus","paymentIn","setPaymentIn","paymentOut","setPaymentOut","products","setProducts","getProducts","resetCallback","setResetCallback","resetProductsCallback","setResetProductsCallback","getUserBalance","id","name","price","amount","undefined","balance","console","log","calculateTotal","reduce","resetUser","resetProducts","updatedProducts","map","product","updatedProduct","push","submit","func","value","bind"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport ProductDisplay from './ProductDisplay';\r\nimport UserSelect from '../util/UserSelect';\r\nimport BalanceInfos from './BalanceInfos';\r\nimport BalanceCorrection from './BalanceCorrection';\r\nimport CashPayment from './ChashPayment';\r\nimport LastBookings from './LastBookings';\r\n\r\nexport default function GeneralUi(props) {\r\n    const [user, setUser] = useState(null);\r\n    const [userBalance, setUserBalance] = useState(null);\r\n\r\n    const [correctionPlus, setCorrectionPlus] = useState(null);\r\n    const [correctionMinus, setCorrectionMinus] = useState(null);\r\n    const [paymentIn, setPaymentIn] = useState(null);\r\n    const [paymentOut, setPaymentOut] = useState(null);\r\n\r\n    const [products, setProducts] = useState(getProducts(null));\r\n    \r\n    const [resetCallback, setResetCallback] = useState(null);\r\n    const [resetProductsCallback, setResetProductsCallback] = useState(null);\r\n\r\n    \r\n    useEffect(() => { getUserBalance(user) }, [user]);\r\n\r\n    function getProducts() {\r\n        // do sever\r\n        return [\r\n            { id: 0, name: \"Bonbon\", price: .05, amount: 0,},\r\n            { id: 1, name: \"Schokoriegel\", price: .7, amount: 0,},\r\n            { id: 2, name: \"Loli\", price: .5, amount: 0,},\r\n            { id: 3, name: \"Kracher\", price: .1, amount: 0,},\r\n            { id: 4, name: \"Slush\", price: .2, amount: 0,},\r\n            { id: 5, name: \"M&M\", price: .3, amount: 0,},\r\n            { id: 6, name: \"Schlangen\", price: .1, amount: 0,},\r\n            { id: 7, name: \"Snickers\", price: .6, amount: 0,},\r\n            { id: 8, name: \"T-shirt\", price: 15, amount: 0,},\r\n            { id: 9, name: \"Cappy\", price: 8, amount: 0,},\r\n            { id: 10, name: \"CD\", price: 10, amount: 0,},\r\n            { id: 11, name: \"Bibel\", price: 20, amount: 0,},\r\n            { id: 12, name: \"Sprudel\", price: 0.8, amount: 0,},\r\n            { id: 13, name: \"Apfelschorle\", price: 1, amount: 0,},\r\n            { id: 14, name: \"Cola\", price: 1.5, amount: 0,},\r\n            { id: 15, name: \"Reis\", price: 2, amount: 0},\r\n            { id: 16, name: \"ESP\", price: 5, amount: 0},\r\n        ];\r\n    }\r\n\r\n    function getUserBalance(user) {\r\n        if(user===null || user===undefined)\r\n            return;\r\n        // do server\r\n        let balance = 10;\r\n        console.log(balance);\r\n        setUserBalance(balance);\r\n    }\r\n\r\n    function calculateTotal() {\r\n        var price = products.reduce(({id, name, price, amount}) => {return price*amount});\r\n        // for(var i = 0, l = products.length; i < l; i++)\r\n        //     price+=products[i].amount*products[i].price;\r\n        price-=correctionPlus;\r\n        price+=correctionMinus;\r\n        price-=paymentIn;\r\n        price+=paymentOut;\r\n        return price;\r\n    }\r\n\r\n    function resetUser() {\r\n        setUser(null);\r\n        setUserBalance(null);\r\n    }\r\n\r\n    function resetProducts() {\r\n        const updatedProducts = [];\r\n        products.map(product => {\r\n            const updatedProduct = {...product, amount: 0 };\r\n            updatedProducts.push(updatedProduct);\r\n        });\r\n        setProducts(updatedProducts);\r\n        setCorrectionPlus(null);\r\n        setCorrectionMinus(null);\r\n        setPaymentIn(null);\r\n        setPaymentOut(null);\r\n    }\r\n\r\n    function submit() {\r\n        console.log(calculateTotal());\r\n        // do server\r\n        \r\n        if(resetCallback!=null)\r\n            resetCallback();\r\n        resetProducts();\r\n    }\r\n\r\n    return(\r\n        <div className=\"main\">\r\n            {/* <Link to=\"/admin\">{\"Admin\"}</Link> */}\r\n            <UserSelect setResetCallback={func=>setResetCallback(func)} reset={resetUser} run={setUser} useSubmit={false} useReset={true} hideReset={true} />\r\n            <ProductDisplay remove={calculateTotal()>userBalance} products={products} setProducts={products=>setProducts(products)} />\r\n            <BalanceCorrection plus={correctionPlus} setPlus={value=>setCorrectionPlus(value)} minus={correctionMinus} setMinus={value=>setCorrectionMinus(value)} />\r\n            <CashPayment out={paymentOut} setOut={value=>setPaymentOut(value)} in={paymentIn} setIn={value=>setPaymentIn(value)} /><br className='wrapper'/>\r\n            {user!=null&&<BalanceInfos balance={userBalance} sum={calculateTotal()} />}\r\n            {user!=null&&<LastBookings />}\r\n            {(calculateTotal()!==0||correctionPlus!==null||paymentIn!==null)&&<button className='wrapper' onClick={resetProducts.bind(this)}>{\"reset\"}</button>}\r\n            {calculateTotal()<=userBalance&&(calculateTotal()!==0||correctionPlus!==null||paymentIn!=null)&&user!=null&&<button className=\"wrapper\" onClick={submit.bind(this)}>{\"Buchen\"}</button>}\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}