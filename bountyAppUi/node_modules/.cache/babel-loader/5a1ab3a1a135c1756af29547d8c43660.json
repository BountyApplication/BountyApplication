{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Isaja\\\\my-app\\\\bountyAppUi\\\\src\\\\bounty\\\\util\\\\ProductSelect.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { getProducts } from './Database';\nimport { Form, Button, Collapse } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst debug = true;\nProductSelect.propTypes = {\n  // callbacks\n  runCallback: PropTypes.func,\n  resetCallback: PropTypes.func,\n  setResetCallback: PropTypes.func,\n  // settings\n  useReset: PropTypes.bool,\n  hideReset: PropTypes.bool,\n  useSubmit: PropTypes.bool,\n  hideSubmit: PropTypes.bool,\n  resetOnSubmit: PropTypes.bool\n};\nProductSelect.defaultProps = {\n  useReset: false,\n  useSubmit: false,\n  hideReset: false,\n  hideSubmit: false,\n  resetOnSubmit: false\n};\nexport default function ProductSelect(_ref) {\n  _s();\n\n  let {\n    runCallback,\n    resetCallback,\n    setResetCallback,\n    useReset,\n    hideReset,\n    useSubmit,\n    hideSubmit,\n    resetOnSubmit\n  } = _ref;\n  // vars\n  const [products, setProducts] = useState(getProducts);\n  const [selectedProductId, setSelectedProductId] = useState(-1); // temp vars vor easier access\n\n  const productSelected = selectedProductId !== -1; // set callback on beginning\n\n  useEffect(() => {\n    if (setResetCallback) setResetCallback(prev => reset);\n  }, []); // runns when product selected\n\n  useEffect(() => {\n    if (productSelected) run();\n  }, [selectedProductId]);\n\n  function getSelectedProduct() {\n    if (!productSelected) return null;\n    return products.find(product => product.id === selectedProductId);\n  }\n\n  function getProductString(name, price) {\n    if (name == null || price == null) return null;\n    return `${name}(${+price.toFixed(2)}€)`;\n  }\n\n  function getProductStringP(product) {\n    if (product == null) return null;\n    return getProductString(product.name, product.price);\n  }\n\n  function updateProduct(id) {\n    // resets if product selection deleted\n    if (id === -1) return reset();\n    return setSelectedProductId(id);\n  }\n\n  function run() {\n    if (debug) getProductStringP(getSelectedProduct()); // auto submit if no submit button\n\n    if (!useSubmit) submit();\n  }\n\n  function reset() {\n    setSelectedProductId(-1);\n    if (resetCallback) resetCallback();\n  }\n\n  function submit() {\n    // checks if product selected\n    if (!productSelected) {\n      console.log(\"Error: no valid entries\");\n      window.alert(\"Error: no valid entries\");\n      return;\n    }\n\n    if (runCallback) runCallback(getSelectedProduct());\n    if (resetOnSubmit) reset();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"productSelect\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Protuct: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          value: selectedProductId,\n          onChange: event => {\n            updateProduct(parseInt(event.target.value));\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: -1,\n            children: productSelected ? \"Auswahl löschen\" : \"Produkt auswählen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 26\n          }, this), products.map(_ref2 => {\n            let {\n              id,\n              name,\n              price\n            } = _ref2;\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: id,\n              children: getProductString(name, price)\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 36\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n        in: !hideReset || productSelected,\n        children: [/*#__PURE__*/_jsxDEV(Collapse, {\n          in: useReset,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"wrapper\",\n            onClick: reset,\n            children: \"reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n          in: useSubmit,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"wrapper\",\n            onClick: submit,\n            children: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductSelect, \"bfa0ztYb9n2LpHqenmAP6Nrectg=\");\n\n_c = ProductSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductSelect\");","map":{"version":3,"sources":["C:/Users/Isaja/my-app/bountyAppUi/src/bounty/util/ProductSelect.js"],"names":["React","useState","useEffect","PropTypes","getProducts","Form","Button","Collapse","debug","ProductSelect","propTypes","runCallback","func","resetCallback","setResetCallback","useReset","bool","hideReset","useSubmit","hideSubmit","resetOnSubmit","defaultProps","products","setProducts","selectedProductId","setSelectedProductId","productSelected","prev","reset","run","getSelectedProduct","find","product","id","getProductString","name","price","toFixed","getProductStringP","updateProduct","submit","console","log","window","alert","event","parseInt","target","value","map"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getProducts } from './Database';\r\nimport { Form, Button, Collapse } from 'react-bootstrap';\r\n\r\nconst debug = true;\r\n\r\nProductSelect.propTypes = {\r\n    // callbacks\r\n    runCallback: PropTypes.func,\r\n    resetCallback: PropTypes.func,\r\n    setResetCallback: PropTypes.func,\r\n\r\n    // settings\r\n    useReset: PropTypes.bool,\r\n    hideReset: PropTypes.bool,\r\n    useSubmit: PropTypes.bool,\r\n    hideSubmit: PropTypes.bool,\r\n    resetOnSubmit: PropTypes.bool,\r\n};\r\n\r\nProductSelect.defaultProps = {\r\n    useReset: false,\r\n    useSubmit: false,\r\n\r\n    hideReset: false,\r\n    hideSubmit: false,\r\n\r\n    resetOnSubmit: false,\r\n};\r\n\r\nexport default function ProductSelect({runCallback, resetCallback, setResetCallback, useReset, hideReset, useSubmit, hideSubmit, resetOnSubmit}) {\r\n    // vars\r\n    const [products, setProducts] = useState(getProducts);\r\n    const [selectedProductId, setSelectedProductId] = useState(-1);\r\n\r\n    // temp vars vor easier access\r\n    const productSelected = selectedProductId!==-1;\r\n\r\n    // set callback on beginning\r\n    useEffect(() => {\r\n        if(setResetCallback) setResetCallback(prev => reset);\r\n    }, []);\r\n\r\n    // runns when product selected\r\n    useEffect(() => {\r\n        if(productSelected) run();\r\n    }, [selectedProductId]);\r\n\r\n    function getSelectedProduct() {\r\n        if(!productSelected) return null;\r\n\r\n        return products.find(product => product.id===selectedProductId);\r\n    }\r\n    \r\n    function getProductString(name, price) {\r\n        if(name==null || price==null) return null;\r\n\r\n        return `${name}(${+price.toFixed(2)}€)`;\r\n    }\r\n    function getProductStringP(product) {\r\n        if(product==null) return null;\r\n\r\n        return getProductString(product.name, product.price);\r\n    }\r\n\r\n    function updateProduct(id) {\r\n        // resets if product selection deleted\r\n        if(id===-1) return reset();\r\n           \r\n        return setSelectedProductId(id);\r\n    }\r\n\r\n    function run() {\r\n        if(debug) getProductStringP(getSelectedProduct());\r\n\r\n        // auto submit if no submit button\r\n        if(!useSubmit) submit();\r\n    }\r\n\r\n    function reset() {\r\n        setSelectedProductId(-1);\r\n        if(resetCallback) resetCallback();\r\n    }\r\n\r\n    function submit() {\r\n        // checks if product selected\r\n        if(!productSelected) {\r\n            console.log(\"Error: no valid entries\");\r\n            window.alert(\"Error: no valid entries\");\r\n            return;\r\n        }\r\n\r\n        if(runCallback) runCallback(getSelectedProduct());\r\n        if(resetOnSubmit) reset();\r\n    }\r\n\r\n    return(\r\n        <div className=\"wrapper\">\r\n            <Form>\r\n                <Form.Group controlId={\"productSelect\"}>\r\n                    <Form.Label>Protuct: </Form.Label>\r\n                    <Form.Select value={selectedProductId} onChange={(event) => {updateProduct(parseInt(event.target.value));}}>\r\n                        {<option value={-1}>{productSelected?\"Auswahl löschen\":\"Produkt auswählen\"}</option>}\r\n                        {products.map(({id, name, price}) => {\r\n                            return <option key={id} value={id}>{getProductString(name, price)}</option>\r\n                        })}\r\n                    </Form.Select>\r\n                </Form.Group>\r\n                <Collapse in={!hideReset  || productSelected}>\r\n                    <Collapse in={useReset}>\r\n                        <Button className='wrapper' onClick={reset}>{\"reset\"}</Button>\r\n                    </Collapse>\r\n                    <Collapse in={useSubmit}>\r\n                        <Button className='wrapper' onClick={submit}>{\"submit\"}</Button>\r\n                    </Collapse> \r\n                </Collapse>\r\n            </Form>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}