{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Isaja\\\\my-app\\\\bountyAppUi\\\\src\\\\bounty\\\\util\\\\UserSelect.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { getUsers } from './Database';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultTitle = \"Suchen\";\nexport default function UserSelect(_ref) {\n  _s();\n\n  let {\n    title = defaultTitle,\n    runCallback,\n    resetCallback,\n    setResetCallback,\n    useReset,\n    hideReset,\n    useSubmit,\n    hideSubmit,\n    resetOnSubmit\n  } = _ref;\n  const [users, setUsers] = useState(getUsers());\n  const [userFirstname, setUserFirstname] = useState(\"\");\n  const [userLastname, setUserLastname] = useState(\"\");\n  const filteredUsers = getFilteredUsers();\n  useEffect(() => {\n    if (setResetCallback != null) setResetCallback(() => reset);\n  }, []);\n  useEffect(() => {\n    if (userFirstname !== \"\" && userLastname !== \"\") run();else checkOptions();\n  }, [userFirstname, userLastname]);\n\n  function updateName(isFirstname, name) {\n    if (name === \"\") return reset();\n    if (isFirstname) setUserFirstname(name);else setUserLastname(name);\n  }\n\n  function checkOptions() {\n    if (filteredUsers.length > 1) return;\n    if (userFirstname !== \"\" && userLastname === \"\") return setUserLastname(filteredUsers.find(user => user.firstname === userFirstname).lastname);\n    if (userFirstname === \"\" && userLastname !== \"\") return setUserFirstname(filteredUsers.find(user => user.lastname === userLastname).firstname);\n  }\n\n  function getFilteredUsers() {\n    return users.filter(_ref2 => {\n      let {\n        lastname,\n        firstname\n      } = _ref2;\n      return (userFirstname === \"\" || userFirstname === firstname) && (userLastname === \"\" || userLastname === lastname);\n    });\n  }\n\n  function getFilteredUnique(isFirstname) {\n    return filteredUsers.filter(_ref3 => {\n      let {\n        id,\n        firstname,\n        lastname\n      } = _ref3;\n      return filteredUsers.find(user => isFirstname ? user.firstname === firstname : user.lastname === lastname).id === id;\n    });\n  }\n\n  function run() {\n    console.log(userFirstname + \" \" + userLastname);\n    if (!useSubmit) submit();\n  }\n\n  function submit() {\n    if (getFilteredUsers().length !== 1) {\n      console.log(\"Error: user selection ambiguous\");\n      window.alert(\"Error: user selection ambiguous\");\n      return;\n    }\n\n    if (runCallback != null) runCallback(getFilteredUsers()[0]);\n    if (resetOnSubmit) reset();\n  }\n\n  function reset() {\n    setUserFirstname(\"\");\n    setUserLastname(\"\");\n    if (resetCallback != null) resetCallback();\n  }\n\n  function nameSelectUi(isFirstname) {\n    return /*#__PURE__*/_jsxDEV(\"select\", {\n      value: isFirstname ? userFirstname : userLastname,\n      onChange: event => updateName(isFirstname, event.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: userFirstname !== \"\" ? \"delete\" : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), getFilteredUnique(true).map(_ref4 => {\n        let {\n          id,\n          firstname,\n          lastname\n        } = _ref4;\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: isFirstname ? firstname : lastname,\n          children: isFirstname ? firstname : lastname\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 77\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rubric\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: \"Vorname \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: [\"Nachname \", /*#__PURE__*/_jsxDEV(\"select\", {\n        value: userLastname,\n        onChange: event => updateName(false, event.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: userLastname !== \"\" ? \"delete\" : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), filteredUsers.map(_ref5 => {\n          let {\n            id,\n            lastname\n          } = _ref5;\n          if (filteredUsers.find(user => user.lastname === lastname).id === id) return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: lastname,\n            children: lastname\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 36\n          }, this);\n          return null;\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), useReset && (!hideReset || userFirstname !== \"\" || userLastname !== \"\") && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"wrapper\",\n      onClick: reset,\n      children: \"reset\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 89\n    }, this), useSubmit && (!hideSubmit || filteredUsers.length === 1) && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"wrapper\",\n      onClick: submit,\n      children: \"submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 89\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserSelect, \"UiFLX2g40NggDjCOQ7u07ECzcoY=\");\n\n_c = UserSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserSelect\");","map":{"version":3,"sources":["C:/Users/Isaja/my-app/bountyAppUi/src/bounty/util/UserSelect.js"],"names":["React","useState","useEffect","getUsers","defaultTitle","UserSelect","title","runCallback","resetCallback","setResetCallback","useReset","hideReset","useSubmit","hideSubmit","resetOnSubmit","users","setUsers","userFirstname","setUserFirstname","userLastname","setUserLastname","filteredUsers","getFilteredUsers","reset","run","checkOptions","updateName","isFirstname","name","length","find","user","firstname","lastname","filter","getFilteredUnique","id","console","log","submit","window","alert","nameSelectUi","event","target","value","map"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getUsers } from './Database';\r\n\r\nconst defaultTitle = \"Suchen\";\r\n\r\nexport default function UserSelect({title=defaultTitle, runCallback, resetCallback, setResetCallback, useReset, hideReset, useSubmit, hideSubmit, resetOnSubmit}) {\r\n\r\n    const [users, setUsers] = useState(getUsers());\r\n    const [userFirstname, setUserFirstname] = useState(\"\");\r\n    const [userLastname, setUserLastname] = useState(\"\");\r\n\r\n    const filteredUsers = getFilteredUsers();\r\n\r\n    useEffect(() => {\r\n      if(setResetCallback!=null)\r\n        setResetCallback(()=>reset);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(userFirstname!==\"\" && userLastname!==\"\")\r\n            run();\r\n        else\r\n            checkOptions();\r\n    }, [userFirstname, userLastname]);\r\n\r\n\r\n    function updateName(isFirstname, name) {\r\n        if(name === \"\")\r\n            return reset();\r\n\r\n        if(isFirstname)\r\n            setUserFirstname(name);\r\n        else\r\n            setUserLastname(name);\r\n    }\r\n\r\n    function checkOptions() {\r\n        if(filteredUsers.length > 1)\r\n            return;\r\n\r\n        if(userFirstname!==\"\" && userLastname===\"\")\r\n            return setUserLastname(filteredUsers.find(user => user.firstname===userFirstname).lastname);\r\n        if(userFirstname===\"\" && userLastname!==\"\")\r\n            return setUserFirstname(filteredUsers.find(user => user.lastname===userLastname).firstname);\r\n    }\r\n\r\n    function getFilteredUsers() {\r\n        return users.filter(({lastname, firstname}) => (userFirstname===\"\" || userFirstname===firstname) && (userLastname===\"\" || userLastname===lastname));\r\n    }\r\n\r\n    function getFilteredUnique(isFirstname) {\r\n        return filteredUsers.filter(({id, firstname, lastname}) => filteredUsers.find(user => isFirstname ? user.firstname===firstname : user.lastname===lastname).id===id);\r\n    }  \r\n\r\n    function run() {\r\n        console.log(userFirstname+\" \"+userLastname);\r\n        if(!useSubmit)\r\n            submit();\r\n    }\r\n\r\n    function submit() {\r\n        if(getFilteredUsers().length!==1) {\r\n            console.log(\"Error: user selection ambiguous\");\r\n            window.alert(\"Error: user selection ambiguous\");\r\n            return;\r\n        }\r\n\r\n        if(runCallback!=null)\r\n            runCallback(getFilteredUsers()[0]);\r\n\r\n        if(resetOnSubmit)\r\n            reset();\r\n    }\r\n\r\n    function reset() {\r\n        setUserFirstname(\"\");\r\n        setUserLastname(\"\");\r\n        if(resetCallback!=null)\r\n            resetCallback();\r\n    }\r\n\r\n    function nameSelectUi(isFirstname) {\r\n        return(\r\n            <select value={isFirstname?userFirstname:userLastname} onChange={event => updateName(isFirstname, event.target.value)}>\r\n                <option value=\"\">{userFirstname!==\"\"?\"delete\":\"\"}</option>\r\n                {getFilteredUnique(true).map(({id, firstname, lastname}) => <option key={id} value={isFirstname?firstname:lastname}>{isFirstname?firstname:lastname}</option>)}\r\n            </select>\r\n        );\r\n    }\r\n    \r\n    return(\r\n        <div className=\"rubric\">\r\n            <div className='title'>{title}</div>\r\n            <div className='wrapper'>{\"Vorname \"}\r\n                \r\n            </div>\r\n            <div className='wrapper'>{\"Nachname \"}\r\n                <select value={userLastname} onChange={event => updateName(false, event.target.value)}>\r\n                    <option value=\"\">{userLastname!==\"\"?\"delete\":\"\"}</option>\r\n                    {filteredUsers.map(({id, lastname}) => {\r\n                        if(filteredUsers.find(user => user.lastname===lastname).id === id)\r\n                            return <option key={id} value={lastname}>{lastname}</option>\r\n                        return null;\r\n                    })}\r\n                </select>\r\n            </div>\r\n            {useReset  && (!hideReset  || userFirstname!==\"\" || userLastname!==\"\") &&   <button className='wrapper' onClick={reset}>{\"reset\"}</button>}\r\n            {useSubmit && (!hideSubmit || filteredUsers.length===1) &&                  <button className='wrapper' onClick={submit}>{\"submit\"}</button>}\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}